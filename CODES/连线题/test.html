<!DOCTYPE html>
<html>

<head>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>

<body>
  <canvas id="canvas" width="800" height="400"></canvas>
  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const circles = [];
    const lines = [];

    canvas.addEventListener('mousedown', handleMouseDown);
    canvas.addEventListener('mouseup', handleMouseUp);

    function drawCircle(x, y) {
      ctx.beginPath();
      ctx.arc(x, y, 20, 0, Math.PI * 2);
      ctx.fillStyle = 'blue';
      ctx.fill();
    }

    function drawLine(startX, startY, endX, endY) {
      ctx.beginPath();
      ctx.moveTo(startX, startY);
      ctx.lineTo(endX, endY);
      ctx.strokeStyle = 'red';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    function handleMouseDown(event) {
      const x = event.clientX - canvas.getBoundingClientRect().left;
      const y = event.clientY - canvas.getBoundingClientRect().top;
      circles.push({ x, y });
      drawCircle(x, y);
    }

    function handleMouseUp(event) {
      if (circles.length === 2) {
        const startX = circles[0].x;
        const startY = circles[0].y;
        const endX = event.clientX - canvas.getBoundingClientRect().left;
        const endY = event.clientY - canvas.getBoundingClientRect().top;
        lines.push({ startX, startY, endX, endY });
        drawLine(startX, startY, endX, endY);
        circles.length = 0; // Reset the circles array
      }
    }
  </script>
</body>

</html>